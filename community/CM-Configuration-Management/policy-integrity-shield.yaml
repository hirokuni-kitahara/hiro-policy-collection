# This policy verifies the installation of Integrity Shield on the managed clusters.
# 
# "enforce", it will install Integirty Shield operator

apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-integrity-shield
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: CM Configuration Management
    policy.open-cluster-management.io/controls: CM-5 Access Restrictions for Change
    integrityshield.io/message: H4sIAD1RUGAAA+1ZX2/bNhB/96cg3LchVFNsATa9ed6w9aFZUGd9WftAU2eZi0RqJOXFK/rdeyQlW3ZEy0mdbBlKFEkjHu///XQnviDXS2FIpQrB12QFWiwEGGKXQIQ0lhUFs0JJohbktbSQa2HXZLYUUGQEHzu6kkmWQ0Z4URsL2iSjFwT/jUEulOYwPiPCkr9FUbQcAyehO5wq0MwqPRqxSrxDHigybZRKcFPShjkNwkqQNhHq5erV6EbILCVXnnRUgmUZsywdESJZCS0PKlrdqfEScZ9Jqaw3zjhycoQ41F5mTGcmJZevZ9dkdkW+Pz+nF98eeZ4z1EJpdHBKpm/IVMmFyGsdPPxmQ3osNyWtVoXnRS/IhHMwhrwFY7Xg3i6CASDTJZM5jEwF3Nmp8XwmvMiJp0pJEyjczIRh8wLQoQtWGPek8Z+FssJMgMZVlKj5n8DtT7AQUngu/rlb945gezBEcscpTVhbim5423UwzNTtmop548Jq/dCuuD/IC5/eex7wDJI7pwgWkcLy0SLLQJL5OpzVwJFO5qRiGlVB+8mKFTX4yPRzSjrKGXAVadcp+VXky85GcP9+WNpFCVe4IZjkcL2u0D8l+h7TfclWsENJDgRyNy6XdzzZF/BOOA8FbTd4d6LWwgE1a0yZ8nmlnMqfe64t/71c60ayzQKTcKVBuV/ly54EC0H8raH+Rau6+qIk3GRf3ssqHPClcGTqdtd+SrTLMp2D3RSZ6aNxzv5/1Yqp51+L5TGLhRXVksVKZlbPDdeictxPCdtPVDIcGxsJRUq8kT0ETbt5VTA5qSqtMMApmdRWlRhVfhK7jKq1Mwq9Xdayix4mSn259YWrPBSysFh2+gYs5kzPCxYPIjxYzNbp7N0B/ZLVefIq+e55QQDXXxHgJAiA/zfJxr3BuyF+B0FgM9XN2sFodz0ABwxo9M2JUYAQdAMrxD9ob+zlyAtgsq6SLWWPQ47Gl0LlOeh+WaLECknJXzVbOx9HyuflHSsdT8y5dFuoe7p4151WZsMzJpItfH5hIn/81KeRZxJqvl8v/9FgHZK5yiuszduL8x/6TQhJNslKIX9HvS59Ao1DyFOnqODAOFe1tGnEQIq/3c8sw6y/CdsFNA9ogARudTHu10DOODLeYPAMCqwxFXG5o0cNMohtu6wbf9MvihC4HT58U8+BRjl4ku1bopfOiFyCPhQh7xQRayqdDDnQeG50OaBp0GOIwYwh/MHM08Z4UWJckDAzpiG+jy90gA9tsO4o9RFaYd3Egxh/gAb+FDe434gbVHvUH7AISiawmekPx1Z6BCeDLffTzADXYUBJnQCNKEbDs54DGkKr4/yEhFdaLUQRH2p2OgRt+mYut7CFs+iat3WUVWCH7R1fHvKfI8LXpR8Vj2iBYtCQS2y1T6NNjdgnHwyG6YGqPAX/BmyjUnxPNl0Cv/mvxKZdO1+HIyTIVZXYLVwxi+zlM1PfLRfZK4194q2DhCQWplo2FTSx9hBkPqmZ7LAuQdS47UKTzlf75P2YVZU5NLsslXFjE82gKtTafdp+Px4qlS+VZTpT9eNJM2vJaQDZxxOCI5KSHJEbu/P7mlOwORROyBEXGc1Tl8ZPIML3OY8kRytlmx40LmHvW99QC4qTiFNgmIyEuv35FmdbY7YXW3Eb8UV+zCcAYZo+LH4JsLvaYc6NlwOkfuY2KfljbHUN4w8jSumDbwHd5xP39Ef8E2ux5z5wHnZo7F6walm8hUXnFrF9Gj23werNeXwTjkgHJAeKbdRt/Ojg7WXPu+E+eLzv5CEkuOtib1/Pfeugp9pxuxGEnWomOrew1H3ssjVmxPjaJUSTPtaPl+GONJvuHZ2ssBt26L5lu1stsbqg5KMvAZAroZV0ep/tJO9ZJz8zWI0/fBp9BkvIt54yHwAA
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSE5CQUFCQ0FBM0ZpRUVPS2RxVlVTZk9QdytWMDJ2VjZDYlI0eExaVjRGQW1CUVVUMFpISE5oYlhCc1pWOXoKYVdkdVpYSkFjMmxuYm1WeUxtTnZiUUFLQ1JCWG9KdEhqRXRsWG0xMkRBQ2JnaVJGR2JUL2J2TitnR0plclRmcQpuVU41dFpJZ3M0dlZkdllKalVyTVNnNEhPVEZXNkkvL3ZZOElRTW0yWG5SY2VSaEN1bDE3QmtsT3o0YS9ZeXh5CktVQjZNQlk4ZTZweitXOUJ3KzRqaVk5Rk9Uc0RrWGc0bWpPZ3ZONzhmdjJ4M2crcXdGMlVPb3YwMG9icFF4Q1UKU0lZczk2NzU0NE84LzlYUCtCM0tHR25YcTFmek5GSC9hWXhOUmdjZkh2eFVXRWlHMDhLSHBRME5KdHdFRkI2cApPSmdqTjlDV2lacmVIT2ZFMVBBemZGMDB3LytGaXdJdjZWSUxrek1yeXhCdkx0Nkd0SU9sMC8wTkdVS0FMaXVDCm5CMWhhMkJHek5VcVZxYXRUQ3E1Q1pzOGt4WWFIMDlWVVFDdVlsNGhGeXVLMXVwR2NtUVJNSGExQXFXRG5lcy8KSTNMUnh5S3ZEOERGTi9ad1VPQy9ZYmVEZ2NDSEM1NEU1dVdWMEw2U2I2UXhiSFJRYnl5V3FKRERxVlFqelNPZgpiZzFQaDhJcXo1SHBYYm4zWTVGbFp4VHBSMlpqNEJjRVgyeCtWVEtFODZGQTJTMm9OejdzVy9ZK3cwK1BtcWlaCnpNZHNMdkRIL0JZR2Y0RVZZWDNCNUNNRVpnK2tOWHFZb2tkUXJxdXdyRXc9Cj1hU0tUCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
spec:
  remediationAction: enforce
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-namespace
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: High
          object-templates:
            - complianceType: mustnothave
              objectDefinition:
                kind: Namespace
                apiVersion: v1
                metadata:
                  name: integrity-shield-operator-system
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-og
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: mustnothave
              objectDefinition:
                apiVersion: operators.coreos.com/v1
                kind: OperatorGroup
                metadata:
                  name: integrity-operator-group
                  namespace: integrity-shield-operator-system
                spec:
                  targetNamespaces:
                    - integrity-shield-operator-system
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-sub
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: mustnothave
              objectDefinition:
                apiVersion: operators.coreos.com/v1alpha1
                kind: Subscription
                metadata:
                  name: integrity-shield-operator
                  namespace: integrity-shield-operator-system
                spec:
                  channel: alpha
                  installPlanApproval: Automatic
                  name: integrity-shield-operator
                  source: community-operators
                  sourceNamespace: openshift-marketplace
                  startingCSV: integrity-shield-operator.v0.1.4
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-cr
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: mustnothave
              objectDefinition:
                apiVersion: apis.integrityshield.io/v1alpha1
                kind: IntegrityShield
                metadata:
                  name: integrity-shield-server
                  namespace: integrity-shield-operator-system
                  finalizers:
                    - cleanup.finalizers.integrityshield.io
                spec:
                  logger:
                    image: quay.io/open-cluster-management/integrity-shield-logging:0.1.4
                  server:
                    image: quay.io/open-cluster-management/integrity-shield-server:0.1.4
                  affinity: {}
                  shieldConfig:
                    verifyType: pgp # x509
                    iShieldAdminUserName: "system:serviceaccount:open-cluster-management-agent-addon:klusterlet-addon-policyctrl"
                    inScopeNamespaceSelector:
                      include:
                        - "*"
                      exclude:
                        - "kube-*"
                        - "openshift-*"
                  signerConfig:
                    policies:
                      - namespaces:
                          - "*"
                        signers:
                          - "SampleSigner"
                      - scope: "Cluster"
                        signers:
                          - "SampleSigner"
                    signers:
                      - name: "SampleSigner"
                        keyConfig: sample-signer-keyconfig
                        subjects:
                          - email: "*"
                  keyConfig:
                    - name: sample-signer-keyconfig
                      secretName: keyring-secret
                  resourceSigningProfiles:
                    - name: policy-rsp
                      protectRules:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                      ignoreRules:
                        - match:
                            - username: "system:serviceaccount:open-cluster-management-agent:*"
                            - username: "system:serviceaccount:open-cluster-management-agent-addon:*"
                      forceCheckRules:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                              kind: Policy
                      kustomizePatterns:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                              kind: Policy
                          namePrefix: "*."
                      unprotectAttrs:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                          attrs:
                            - "metadata.annotations.\"apps.open-cluster-management.io/hosting-deployable\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/hosting-subscription\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/sync-source\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/reconcile-option\""
                            - "metadata.labels.\"policy.open-cluster-management.io/cluster-name\""
                            - "metadata.labels.\"policy.open-cluster-management.io/cluster-namespace\""
                            - "metadata.labels.\"policy.open-cluster-management.io/root-policy\""
                      targetNamespaceSelector:
                        labelSelector:
                          matchExpressions:
                            - key: policy.open-cluster-management.io/isClusterNamespace
                              operator: In
                              values: ["true"]
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-integrity-shield
  annotations:
    integrityshield.io/message: H4sIAD1RUGAAA+1ZX2/bNhB/96cg3LchVFNsATa9ed6w9aFZUGd9WftAU2eZi0RqJOXFK/rdeyQlW3ZEy0mdbBlKFEkjHu///XQnviDXS2FIpQrB12QFWiwEGGKXQIQ0lhUFs0JJohbktbSQa2HXZLYUUGQEHzu6kkmWQ0Z4URsL2iSjFwT/jUEulOYwPiPCkr9FUbQcAyehO5wq0MwqPRqxSrxDHigybZRKcFPShjkNwkqQNhHq5erV6EbILCVXnnRUgmUZsywdESJZCS0PKlrdqfEScZ9Jqaw3zjhycoQ41F5mTGcmJZevZ9dkdkW+Pz+nF98eeZ4z1EJpdHBKpm/IVMmFyGsdPPxmQ3osNyWtVoXnRS/IhHMwhrwFY7Xg3i6CASDTJZM5jEwF3Nmp8XwmvMiJp0pJEyjczIRh8wLQoQtWGPek8Z+FssJMgMZVlKj5n8DtT7AQUngu/rlb945gezBEcscpTVhbim5423UwzNTtmop548Jq/dCuuD/IC5/eex7wDJI7pwgWkcLy0SLLQJL5OpzVwJFO5qRiGlVB+8mKFTX4yPRzSjrKGXAVadcp+VXky85GcP9+WNpFCVe4IZjkcL2u0D8l+h7TfclWsENJDgRyNy6XdzzZF/BOOA8FbTd4d6LWwgE1a0yZ8nmlnMqfe64t/71c60ayzQKTcKVBuV/ly54EC0H8raH+Rau6+qIk3GRf3ssqHPClcGTqdtd+SrTLMp2D3RSZ6aNxzv5/1Yqp51+L5TGLhRXVksVKZlbPDdeictxPCdtPVDIcGxsJRUq8kT0ETbt5VTA5qSqtMMApmdRWlRhVfhK7jKq1Mwq9Xdayix4mSn259YWrPBSysFh2+gYs5kzPCxYPIjxYzNbp7N0B/ZLVefIq+e55QQDXXxHgJAiA/zfJxr3BuyF+B0FgM9XN2sFodz0ABwxo9M2JUYAQdAMrxD9ob+zlyAtgsq6SLWWPQ47Gl0LlOeh+WaLECknJXzVbOx9HyuflHSsdT8y5dFuoe7p4151WZsMzJpItfH5hIn/81KeRZxJqvl8v/9FgHZK5yiuszduL8x/6TQhJNslKIX9HvS59Ao1DyFOnqODAOFe1tGnEQIq/3c8sw6y/CdsFNA9ogARudTHu10DOODLeYPAMCqwxFXG5o0cNMohtu6wbf9MvihC4HT58U8+BRjl4ku1bopfOiFyCPhQh7xQRayqdDDnQeG50OaBp0GOIwYwh/MHM08Z4UWJckDAzpiG+jy90gA9tsO4o9RFaYd3Egxh/gAb+FDe434gbVHvUH7AISiawmekPx1Z6BCeDLffTzADXYUBJnQCNKEbDs54DGkKr4/yEhFdaLUQRH2p2OgRt+mYut7CFs+iat3WUVWCH7R1fHvKfI8LXpR8Vj2iBYtCQS2y1T6NNjdgnHwyG6YGqPAX/BmyjUnxPNl0Cv/mvxKZdO1+HIyTIVZXYLVwxi+zlM1PfLRfZK4194q2DhCQWplo2FTSx9hBkPqmZ7LAuQdS47UKTzlf75P2YVZU5NLsslXFjE82gKtTafdp+Px4qlS+VZTpT9eNJM2vJaQDZxxOCI5KSHJEbu/P7mlOwORROyBEXGc1Tl8ZPIML3OY8kRytlmx40LmHvW99QC4qTiFNgmIyEuv35FmdbY7YXW3Eb8UV+zCcAYZo+LH4JsLvaYc6NlwOkfuY2KfljbHUN4w8jSumDbwHd5xP39Ef8E2ux5z5wHnZo7F6walm8hUXnFrF9Gj23werNeXwTjkgHJAeKbdRt/Ojg7WXPu+E+eLzv5CEkuOtib1/Pfeugp9pxuxGEnWomOrew1H3ssjVmxPjaJUSTPtaPl+GONJvuHZ2ssBt26L5lu1stsbqg5KMvAZAroZV0ep/tJO9ZJz8zWI0/fBp9BkvIt54yHwAA
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSE5CQUFCQ0FBM0ZpRUVPS2RxVlVTZk9QdytWMDJ2VjZDYlI0eExaVjRGQW1CUVVUMFpISE5oYlhCc1pWOXoKYVdkdVpYSkFjMmxuYm1WeUxtTnZiUUFLQ1JCWG9KdEhqRXRsWG0xMkRBQ2JnaVJGR2JUL2J2TitnR0plclRmcQpuVU41dFpJZ3M0dlZkdllKalVyTVNnNEhPVEZXNkkvL3ZZOElRTW0yWG5SY2VSaEN1bDE3QmtsT3o0YS9ZeXh5CktVQjZNQlk4ZTZweitXOUJ3KzRqaVk5Rk9Uc0RrWGc0bWpPZ3ZONzhmdjJ4M2crcXdGMlVPb3YwMG9icFF4Q1UKU0lZczk2NzU0NE84LzlYUCtCM0tHR25YcTFmek5GSC9hWXhOUmdjZkh2eFVXRWlHMDhLSHBRME5KdHdFRkI2cApPSmdqTjlDV2lacmVIT2ZFMVBBemZGMDB3LytGaXdJdjZWSUxrek1yeXhCdkx0Nkd0SU9sMC8wTkdVS0FMaXVDCm5CMWhhMkJHek5VcVZxYXRUQ3E1Q1pzOGt4WWFIMDlWVVFDdVlsNGhGeXVLMXVwR2NtUVJNSGExQXFXRG5lcy8KSTNMUnh5S3ZEOERGTi9ad1VPQy9ZYmVEZ2NDSEM1NEU1dVdWMEw2U2I2UXhiSFJRYnl5V3FKRERxVlFqelNPZgpiZzFQaDhJcXo1SHBYYm4zWTVGbFp4VHBSMlpqNEJjRVgyeCtWVEtFODZGQTJTMm9OejdzVy9ZK3cwK1BtcWlaCnpNZHNMdkRIL0JZR2Y0RVZZWDNCNUNNRVpnK2tOWHFZb2tkUXJxdXdyRXc9Cj1hU0tUCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
placementRef:
  name: placement-policy-integrity-shield
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-integrity-shield
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-integrity-shield
  annotations:
    integrityshield.io/message: H4sIAD1RUGAAA+1ZX2/bNhB/96cg3LchVFNsATa9ed6w9aFZUGd9WftAU2eZi0RqJOXFK/rdeyQlW3ZEy0mdbBlKFEkjHu///XQnviDXS2FIpQrB12QFWiwEGGKXQIQ0lhUFs0JJohbktbSQa2HXZLYUUGQEHzu6kkmWQ0Z4URsL2iSjFwT/jUEulOYwPiPCkr9FUbQcAyehO5wq0MwqPRqxSrxDHigybZRKcFPShjkNwkqQNhHq5erV6EbILCVXnnRUgmUZsywdESJZCS0PKlrdqfEScZ9Jqaw3zjhycoQ41F5mTGcmJZevZ9dkdkW+Pz+nF98eeZ4z1EJpdHBKpm/IVMmFyGsdPPxmQ3osNyWtVoXnRS/IhHMwhrwFY7Xg3i6CASDTJZM5jEwF3Nmp8XwmvMiJp0pJEyjczIRh8wLQoQtWGPek8Z+FssJMgMZVlKj5n8DtT7AQUngu/rlb945gezBEcscpTVhbim5423UwzNTtmop548Jq/dCuuD/IC5/eex7wDJI7pwgWkcLy0SLLQJL5OpzVwJFO5qRiGlVB+8mKFTX4yPRzSjrKGXAVadcp+VXky85GcP9+WNpFCVe4IZjkcL2u0D8l+h7TfclWsENJDgRyNy6XdzzZF/BOOA8FbTd4d6LWwgE1a0yZ8nmlnMqfe64t/71c60ayzQKTcKVBuV/ly54EC0H8raH+Rau6+qIk3GRf3ssqHPClcGTqdtd+SrTLMp2D3RSZ6aNxzv5/1Yqp51+L5TGLhRXVksVKZlbPDdeictxPCdtPVDIcGxsJRUq8kT0ETbt5VTA5qSqtMMApmdRWlRhVfhK7jKq1Mwq9Xdayix4mSn259YWrPBSysFh2+gYs5kzPCxYPIjxYzNbp7N0B/ZLVefIq+e55QQDXXxHgJAiA/zfJxr3BuyF+B0FgM9XN2sFodz0ABwxo9M2JUYAQdAMrxD9ob+zlyAtgsq6SLWWPQ47Gl0LlOeh+WaLECknJXzVbOx9HyuflHSsdT8y5dFuoe7p4151WZsMzJpItfH5hIn/81KeRZxJqvl8v/9FgHZK5yiuszduL8x/6TQhJNslKIX9HvS59Ao1DyFOnqODAOFe1tGnEQIq/3c8sw6y/CdsFNA9ogARudTHu10DOODLeYPAMCqwxFXG5o0cNMohtu6wbf9MvihC4HT58U8+BRjl4ku1bopfOiFyCPhQh7xQRayqdDDnQeG50OaBp0GOIwYwh/MHM08Z4UWJckDAzpiG+jy90gA9tsO4o9RFaYd3Egxh/gAb+FDe434gbVHvUH7AISiawmekPx1Z6BCeDLffTzADXYUBJnQCNKEbDs54DGkKr4/yEhFdaLUQRH2p2OgRt+mYut7CFs+iat3WUVWCH7R1fHvKfI8LXpR8Vj2iBYtCQS2y1T6NNjdgnHwyG6YGqPAX/BmyjUnxPNl0Cv/mvxKZdO1+HIyTIVZXYLVwxi+zlM1PfLRfZK4194q2DhCQWplo2FTSx9hBkPqmZ7LAuQdS47UKTzlf75P2YVZU5NLsslXFjE82gKtTafdp+Px4qlS+VZTpT9eNJM2vJaQDZxxOCI5KSHJEbu/P7mlOwORROyBEXGc1Tl8ZPIML3OY8kRytlmx40LmHvW99QC4qTiFNgmIyEuv35FmdbY7YXW3Eb8UV+zCcAYZo+LH4JsLvaYc6NlwOkfuY2KfljbHUN4w8jSumDbwHd5xP39Ef8E2ux5z5wHnZo7F6walm8hUXnFrF9Gj23werNeXwTjkgHJAeKbdRt/Ojg7WXPu+E+eLzv5CEkuOtib1/Pfeugp9pxuxGEnWomOrew1H3ssjVmxPjaJUSTPtaPl+GONJvuHZ2ssBt26L5lu1stsbqg5KMvAZAroZV0ep/tJO9ZJz8zWI0/fBp9BkvIt54yHwAA
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSE5CQUFCQ0FBM0ZpRUVPS2RxVlVTZk9QdytWMDJ2VjZDYlI0eExaVjRGQW1CUVVUMFpISE5oYlhCc1pWOXoKYVdkdVpYSkFjMmxuYm1WeUxtTnZiUUFLQ1JCWG9KdEhqRXRsWG0xMkRBQ2JnaVJGR2JUL2J2TitnR0plclRmcQpuVU41dFpJZ3M0dlZkdllKalVyTVNnNEhPVEZXNkkvL3ZZOElRTW0yWG5SY2VSaEN1bDE3QmtsT3o0YS9ZeXh5CktVQjZNQlk4ZTZweitXOUJ3KzRqaVk5Rk9Uc0RrWGc0bWpPZ3ZONzhmdjJ4M2crcXdGMlVPb3YwMG9icFF4Q1UKU0lZczk2NzU0NE84LzlYUCtCM0tHR25YcTFmek5GSC9hWXhOUmdjZkh2eFVXRWlHMDhLSHBRME5KdHdFRkI2cApPSmdqTjlDV2lacmVIT2ZFMVBBemZGMDB3LytGaXdJdjZWSUxrek1yeXhCdkx0Nkd0SU9sMC8wTkdVS0FMaXVDCm5CMWhhMkJHek5VcVZxYXRUQ3E1Q1pzOGt4WWFIMDlWVVFDdVlsNGhGeXVLMXVwR2NtUVJNSGExQXFXRG5lcy8KSTNMUnh5S3ZEOERGTi9ad1VPQy9ZYmVEZ2NDSEM1NEU1dVdWMEw2U2I2UXhiSFJRYnl5V3FKRERxVlFqelNPZgpiZzFQaDhJcXo1SHBYYm4zWTVGbFp4VHBSMlpqNEJjRVgyeCtWVEtFODZGQTJTMm9OejdzVy9ZK3cwK1BtcWlaCnpNZHNMdkRIL0JZR2Y0RVZZWDNCNUNNRVpnK2tOWHFZb2tkUXJxdXdyRXc9Cj1hU0tUCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
