# This policy verifies the installation of Integrity Shield on the managed clusters.
# 
# "enforce", it will install Integirty Shield operator

apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-integrity-shield
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: CM Configuration Management
    policy.open-cluster-management.io/controls: CM-5 Access Restrictions for Change
    integrityshield.io/message: H4sIAKT4QWAAA+1ZS3PbNhC+61dglFvHYJxpPdPypqqdNoe4HsvNpckBAlcUahJgAVC1msl/zwIgJUomRPnZuhNMxo6JxT6+fXCXeEWulsKQShWCr8kKtFgIMMQugQhpLCsKZoWSRC3IW2kh18KuyWwpoMgIPnZ0JZMsh4zwojYWtElGrwj+G4NcKM1hfEKEJX+Lomg5Bk5CdzhVoJlVejRilXiPPFBk2iiV4KakDXMahJUgbSLU69Wb0bWQWUouPOmoBMsyZlk6IkSyEloeVLS6U+Ml4j6TUllvnHHk5AhxqL3MmM5MSs7fzq7I7IJ8f3pKz7498jxnqIXSCHBKpu/IVMmFyGsdEH63IT2Wm5JWq8LzomdkwjkYQy7BWC24t4ugA8h0yWQOI1MBd3ZqPJ8JL3LiqVLSOAo3M2HYvAAEdMEK4540+FkoK4wEaKCiRM3/BG5/goWQwnPxz926swfbg8GTO6A0bm0puu5t10E3U7drKuaNC6vFoV1xPMgrH957CHgGya1TBJNIYfpokWUgyXwdzmrgSCdzUjGNqqD9ZMWKGrxn+jklHeUMuIy065T8KvJlZyPAv++WdlHCFW4IJjlcrSvEp0Tsl2wFO2TkgBd3nXJ+C8Y+b3d8echju5675bK2FlCzxngpX1a8qfylB9ryXwq0rhvbEDAJVxqU+1W+7omu4MHfGupftKqrB0XgJvTyXlbhgM+DI+O2u/bjoV2W6RzsJsNMH41D+v+VKKaef82UJ8sUVlRLFsuXWT03XIvKcX/Mgv1M+cKxn5FQpMQb2UPQdJkXBZOTqtIKvZuSSW1ViS7lj2KXUbV2RiHaZS27pcNEqc+3WLi0QyELizmnr8FiwPS8WvEg1gaLoTqdvT+gX7I6Td4k372s/Of6a/o/PP3x/ybZYBugDc47WAE2k9ysHYZ21z2KgAGNwDxyCSAEYWCF+Aftjb0WeQFM1lWypewB5OjiUqg8B90vS5SYHin5q2Zrh3Ekd17fstLxxIBLt1m6p4uH7nFlNjxjItnCxxdG8afPfRp5JiHh+/XyHwrWIZKrvMLEvDk7/aHfhBBkk6wU8nfU69wH0Di4PHWKCg6Mc1VLm0YMpPjb/cwyjPrrsF1A84CGesCtLsb9GsgZR8abAjyDAnNMRSB39KhBBrFtF3Xjb/pFEQI3w4ev6znQKAdPsn1F9NIZkUvQhzzkQRGxdtLJkAMt50aXA5oGPYYYzBjWPph52hgvSoxzEkbGNPj36YUO8KFNrTtKfSytsG78QYw/QAN/ihvcb8QNqn3VH7AISiawk+l3x1Z6pE4GW+6mmQGuw2iSOgEaqxgNz3oOaAh9jsMJCS+0WogiPs7stAfa9E1bbmH/ZhGayzrKKrDD3o4vD+HniPB16YfEI/qfWGnIJfbZj6NNjbVP3rsYpgey8jH4N8U2KsU3ZNMl8Ov/im/atfNFOEKCXFWJ3cIFs8hevjD13XKevdDYJ964kpDE3FTLJoMm1h4qmc9qJjusSxA1brvQpPOlPvkwZlVlDg0uS2XczEQzqAq1dp+zP4yHUuWhskxnpH46aWYtOQ1F9umE4HykJMfKjd35Xc0p2BwKJ+SIy4vmqQvjZxDh+5wnkqOVsk0PGpew95VvqAXFScQpMExGQt7+fIODrTHby6y4jfgiP2b+F6bpw+Lf/ndXO8y58XKA1A/cJiV/jK2uYfxxRCm9982f+3binv6If2Iu9twBzsMOjd0FVi2LS1h0bg7bp9Fzm1q9OY9vwhHpFMmBZBt1Gz86eGPZ8264Sz3eB3moEtyG2NvXc8c6iFQ7bjeCsFPNROfmlbovXbbGiBhfuYBowsf68TLci2bTvaOTFXbDrrpv2e5mSywvKPnkUwDkSmglnd4nO8F70onPDFbjj59HXwDV+sHTJh8AAA==
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSFBCQUFCQ0FBNUZpRUVWSlRXK3hrWFZWcUdrSlRYZXJVUms4em81N0VGQW1CQitLUWJIR2hwY205cmRXNXAKTG10cGRHRm9ZWEpoTVVCcFltMHVZMjl0QUFvSkVIcTFFWlBNNk9leGtRY0wvMDhzYWFmdXl3ejZjWjNzb1U3VAp1R0VoTEZmbGUwMXV3VzV1K2ZUemVxSlZqdEdkVm5tckptRDRPbVlML1JFUWJqZnN2V1JaZjFYZUVuRkZqVG4yCkhTRlkzMjRiTjdINVpCMWRISGtEN3NSL214UVBaU3p1VW85bWZxTUZXUzdkc3FUeWZudkdSWFdXNDlFV0VvajAKK0ZtSC9jRWlpNUNmME05RHdKRnRLUU94eTBDNkRRWXhVV25HclJKRTVzR3RGOVVZUGJGbXdWSmlIZE1FYVJwTwpwaSsrRFZVNHRoVFBvZjYxQ3R2ZEc5Sm5nQWcvc1VHc1I2WWFyRFJzd3h1c2ZMWkE1U2g1biszL3VvUFR1cUhVCkF4ZGJJUmthRnFjaFJMM0t3bjQvYzhhSms2N3ppR0U3M3NGS2VmS01JbENrZUI0QVpNalJWSEg1RTBORzY3dmMKSHlnM2U4N3NtYlphNUdVeCtEVkhWYTVhZmdLMU1iVjVoUjBLWGcvdnNsVHdLTEowZ3ZIZWpqaXBBNStFL21kNwpkMDM2SWRXSW0yanBaWEFwRFhwZ2ZrOUhrb2Y4L0tjc1VTWkx6c3dVUWlWMUlLamxuU0cwYkJOUHgxNFNVbWRBCkVhdDdXaFBKS2V6VU1scFgrMy82UlplSlVmNUlVZktnWjJDcnlyaUlRQU1Vd3c9PQo9WjZmUQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  remediationAction: enforce
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-namespace
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: High
          object-templates:
            - complianceType: musthave
              objectDefinition:
                kind: Namespace
                apiVersion: v1
                metadata:
                  name: integrity-shield-operator-system
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-og
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operators.coreos.com/v1
                kind: OperatorGroup
                metadata:
                  name: integrity-operator-group
                  namespace: integrity-shield-operator-system
                spec:
                  targetNamespaces:
                    - integrity-shield-operator-system
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-sub
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operators.coreos.com/v1alpha1
                kind: Subscription
                metadata:
                  name: integrity-shield-operator
                  namespace: integrity-shield-operator-system
                spec:
                  channel: alpha
                  installPlanApproval: Automatic
                  name: integrity-shield-operator
                  source: community-operators
                  sourceNamespace: openshift-marketplace
                  startingCSV: integrity-shield-operator.v0.1.4
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-integrity-shield-cr
        spec:
          remediationAction: enforce # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: apis.integrityshield.io/v1alpha1
                kind: IntegrityShield
                metadata:
                  name: integrity-shield-server
                  namespace: integrity-shield-operator-system
                  finalizers:
                    - cleanup.finalizers.integrityshield.io
                spec:
                  logger:
                    image: quay.io/open-cluster-management/integrity-shield-logging:0.1.4
                  server:
                    image: quay.io/open-cluster-management/integrity-shield-server:0.1.4
                  affinity: {}
                  shieldConfig:
                    verifyType: pgp # x509
                    iShieldAdminUserName: "system:serviceaccount:open-cluster-management-agent-addon:klusterlet-addon-policyctrl"
                    inScopeNamespaceSelector:
                      include:
                        - "*"
                      exclude:
                        - "kube-*"
                        - "openshift-*"
                  signerConfig:
                    policies:
                      - namespaces:
                          - "*"
                        signers:
                          - "SampleSigner"
                      - scope: "Cluster"
                        signers:
                          - "SampleSigner"
                    signers:
                      - name: "SampleSigner"
                        keyConfig: sample-signer-keyconfig
                        subjects:
                          - email: "*"
                  keyConfig:
                    - name: sample-signer-keyconfig
                      secretName: keyring-secret
                  resourceSigningProfiles:
                    - name: policy-rsp
                      protectRules:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                      ignoreRules:
                        - match:
                            - username: "system:serviceaccount:open-cluster-management-agent:*"
                            - username: "system:serviceaccount:open-cluster-management-agent-addon:*"
                      forceCheckRules:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                              kind: Policy
                      kustomizePatterns:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                              kind: Policy
                          namePrefix: "*."
                      unprotectAttrs:
                        - match:
                            - apiGroup: policy.open-cluster-management.io
                          attrs:
                            - "metadata.annotations.\"apps.open-cluster-management.io/hosting-deployable\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/hosting-subscription\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/sync-source\""
                            - "metadata.annotations.\"apps.open-cluster-management.io/reconcile-option\""
                            - "metadata.labels.\"policy.open-cluster-management.io/cluster-name\""
                            - "metadata.labels.\"policy.open-cluster-management.io/cluster-namespace\""
                            - "metadata.labels.\"policy.open-cluster-management.io/root-policy\""
                      targetNamespaceSelector:
                        labelSelector:
                          matchExpressions:
                            - key: policy.open-cluster-management.io/isClusterNamespace
                              operator: In
                              values: ["true"]
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-integrity-shield
  annotations:
    integrityshield.io/message: H4sIAKT4QWAAA+1ZS3PbNhC+61dglFvHYJxpPdPypqqdNoe4HsvNpckBAlcUahJgAVC1msl/zwIgJUomRPnZuhNMxo6JxT6+fXCXeEWulsKQShWCr8kKtFgIMMQugQhpLCsKZoWSRC3IW2kh18KuyWwpoMgIPnZ0JZMsh4zwojYWtElGrwj+G4NcKM1hfEKEJX+Lomg5Bk5CdzhVoJlVejRilXiPPFBk2iiV4KakDXMahJUgbSLU69Wb0bWQWUouPOmoBMsyZlk6IkSyEloeVLS6U+Ml4j6TUllvnHHk5AhxqL3MmM5MSs7fzq7I7IJ8f3pKz7498jxnqIXSCHBKpu/IVMmFyGsdEH63IT2Wm5JWq8LzomdkwjkYQy7BWC24t4ugA8h0yWQOI1MBd3ZqPJ8JL3LiqVLSOAo3M2HYvAAEdMEK4540+FkoK4wEaKCiRM3/BG5/goWQwnPxz926swfbg8GTO6A0bm0puu5t10E3U7drKuaNC6vFoV1xPMgrH957CHgGya1TBJNIYfpokWUgyXwdzmrgSCdzUjGNqqD9ZMWKGrxn+jklHeUMuIy065T8KvJlZyPAv++WdlHCFW4IJjlcrSvEp0Tsl2wFO2TkgBd3nXJ+C8Y+b3d8echju5675bK2FlCzxngpX1a8qfylB9ryXwq0rhvbEDAJVxqU+1W+7omu4MHfGupftKqrB0XgJvTyXlbhgM+DI+O2u/bjoV2W6RzsJsNMH41D+v+VKKaef82UJ8sUVlRLFsuXWT03XIvKcX/Mgv1M+cKxn5FQpMQb2UPQdJkXBZOTqtIKvZuSSW1ViS7lj2KXUbV2RiHaZS27pcNEqc+3WLi0QyELizmnr8FiwPS8WvEg1gaLoTqdvT+gX7I6Td4k372s/Of6a/o/PP3x/ybZYBugDc47WAE2k9ysHYZ21z2KgAGNwDxyCSAEYWCF+Aftjb0WeQFM1lWypewB5OjiUqg8B90vS5SYHin5q2Zrh3Ekd17fstLxxIBLt1m6p4uH7nFlNjxjItnCxxdG8afPfRp5JiHh+/XyHwrWIZKrvMLEvDk7/aHfhBBkk6wU8nfU69wH0Di4PHWKCg6Mc1VLm0YMpPjb/cwyjPrrsF1A84CGesCtLsb9GsgZR8abAjyDAnNMRSB39KhBBrFtF3Xjb/pFEQI3w4ev6znQKAdPsn1F9NIZkUvQhzzkQRGxdtLJkAMt50aXA5oGPYYYzBjWPph52hgvSoxzEkbGNPj36YUO8KFNrTtKfSytsG78QYw/QAN/ihvcb8QNqn3VH7AISiawk+l3x1Z6pE4GW+6mmQGuw2iSOgEaqxgNz3oOaAh9jsMJCS+0WogiPs7stAfa9E1bbmH/ZhGayzrKKrDD3o4vD+HniPB16YfEI/qfWGnIJfbZj6NNjbVP3rsYpgey8jH4N8U2KsU3ZNMl8Ov/im/atfNFOEKCXFWJ3cIFs8hevjD13XKevdDYJ964kpDE3FTLJoMm1h4qmc9qJjusSxA1brvQpPOlPvkwZlVlDg0uS2XczEQzqAq1dp+zP4yHUuWhskxnpH46aWYtOQ1F9umE4HykJMfKjd35Xc0p2BwKJ+SIy4vmqQvjZxDh+5wnkqOVsk0PGpew95VvqAXFScQpMExGQt7+fIODrTHby6y4jfgiP2b+F6bpw+Lf/ndXO8y58XKA1A/cJiV/jK2uYfxxRCm9982f+3binv6If2Iu9twBzsMOjd0FVi2LS1h0bg7bp9Fzm1q9OY9vwhHpFMmBZBt1Gz86eGPZ8264Sz3eB3moEtyG2NvXc8c6iFQ7bjeCsFPNROfmlbovXbbGiBhfuYBowsf68TLci2bTvaOTFXbDrrpv2e5mSywvKPnkUwDkSmglnd4nO8F70onPDFbjj59HXwDV+sHTJh8AAA==
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSFBCQUFCQ0FBNUZpRUVWSlRXK3hrWFZWcUdrSlRYZXJVUms4em81N0VGQW1CQitLUWJIR2hwY205cmRXNXAKTG10cGRHRm9ZWEpoTVVCcFltMHVZMjl0QUFvSkVIcTFFWlBNNk9leGtRY0wvMDhzYWFmdXl3ejZjWjNzb1U3VAp1R0VoTEZmbGUwMXV3VzV1K2ZUemVxSlZqdEdkVm5tckptRDRPbVlML1JFUWJqZnN2V1JaZjFYZUVuRkZqVG4yCkhTRlkzMjRiTjdINVpCMWRISGtEN3NSL214UVBaU3p1VW85bWZxTUZXUzdkc3FUeWZudkdSWFdXNDlFV0VvajAKK0ZtSC9jRWlpNUNmME05RHdKRnRLUU94eTBDNkRRWXhVV25HclJKRTVzR3RGOVVZUGJGbXdWSmlIZE1FYVJwTwpwaSsrRFZVNHRoVFBvZjYxQ3R2ZEc5Sm5nQWcvc1VHc1I2WWFyRFJzd3h1c2ZMWkE1U2g1biszL3VvUFR1cUhVCkF4ZGJJUmthRnFjaFJMM0t3bjQvYzhhSms2N3ppR0U3M3NGS2VmS01JbENrZUI0QVpNalJWSEg1RTBORzY3dmMKSHlnM2U4N3NtYlphNUdVeCtEVkhWYTVhZmdLMU1iVjVoUjBLWGcvdnNsVHdLTEowZ3ZIZWpqaXBBNStFL21kNwpkMDM2SWRXSW0yanBaWEFwRFhwZ2ZrOUhrb2Y4L0tjc1VTWkx6c3dVUWlWMUlLamxuU0cwYkJOUHgxNFNVbWRBCkVhdDdXaFBKS2V6VU1scFgrMy82UlplSlVmNUlVZktnWjJDcnlyaUlRQU1Vd3c9PQo9WjZmUQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
placementRef:
  name: placement-policy-integrity-shield
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-integrity-shield
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-integrity-shield
  annotations:
    integrityshield.io/message: H4sIAKT4QWAAA+1ZS3PbNhC+61dglFvHYJxpPdPypqqdNoe4HsvNpckBAlcUahJgAVC1msl/zwIgJUomRPnZuhNMxo6JxT6+fXCXeEWulsKQShWCr8kKtFgIMMQugQhpLCsKZoWSRC3IW2kh18KuyWwpoMgIPnZ0JZMsh4zwojYWtElGrwj+G4NcKM1hfEKEJX+Lomg5Bk5CdzhVoJlVejRilXiPPFBk2iiV4KakDXMahJUgbSLU69Wb0bWQWUouPOmoBMsyZlk6IkSyEloeVLS6U+Ml4j6TUllvnHHk5AhxqL3MmM5MSs7fzq7I7IJ8f3pKz7498jxnqIXSCHBKpu/IVMmFyGsdEH63IT2Wm5JWq8LzomdkwjkYQy7BWC24t4ugA8h0yWQOI1MBd3ZqPJ8JL3LiqVLSOAo3M2HYvAAEdMEK4540+FkoK4wEaKCiRM3/BG5/goWQwnPxz926swfbg8GTO6A0bm0puu5t10E3U7drKuaNC6vFoV1xPMgrH957CHgGya1TBJNIYfpokWUgyXwdzmrgSCdzUjGNqqD9ZMWKGrxn+jklHeUMuIy065T8KvJlZyPAv++WdlHCFW4IJjlcrSvEp0Tsl2wFO2TkgBd3nXJ+C8Y+b3d8echju5675bK2FlCzxngpX1a8qfylB9ryXwq0rhvbEDAJVxqU+1W+7omu4MHfGupftKqrB0XgJvTyXlbhgM+DI+O2u/bjoV2W6RzsJsNMH41D+v+VKKaef82UJ8sUVlRLFsuXWT03XIvKcX/Mgv1M+cKxn5FQpMQb2UPQdJkXBZOTqtIKvZuSSW1ViS7lj2KXUbV2RiHaZS27pcNEqc+3WLi0QyELizmnr8FiwPS8WvEg1gaLoTqdvT+gX7I6Td4k372s/Of6a/o/PP3x/ybZYBugDc47WAE2k9ysHYZ21z2KgAGNwDxyCSAEYWCF+Aftjb0WeQFM1lWypewB5OjiUqg8B90vS5SYHin5q2Zrh3Ekd17fstLxxIBLt1m6p4uH7nFlNjxjItnCxxdG8afPfRp5JiHh+/XyHwrWIZKrvMLEvDk7/aHfhBBkk6wU8nfU69wH0Di4PHWKCg6Mc1VLm0YMpPjb/cwyjPrrsF1A84CGesCtLsb9GsgZR8abAjyDAnNMRSB39KhBBrFtF3Xjb/pFEQI3w4ev6znQKAdPsn1F9NIZkUvQhzzkQRGxdtLJkAMt50aXA5oGPYYYzBjWPph52hgvSoxzEkbGNPj36YUO8KFNrTtKfSytsG78QYw/QAN/ihvcb8QNqn3VH7AISiawk+l3x1Z6pE4GW+6mmQGuw2iSOgEaqxgNz3oOaAh9jsMJCS+0WogiPs7stAfa9E1bbmH/ZhGayzrKKrDD3o4vD+HniPB16YfEI/qfWGnIJfbZj6NNjbVP3rsYpgey8jH4N8U2KsU3ZNMl8Ov/im/atfNFOEKCXFWJ3cIFs8hevjD13XKevdDYJ964kpDE3FTLJoMm1h4qmc9qJjusSxA1brvQpPOlPvkwZlVlDg0uS2XczEQzqAq1dp+zP4yHUuWhskxnpH46aWYtOQ1F9umE4HykJMfKjd35Xc0p2BwKJ+SIy4vmqQvjZxDh+5wnkqOVsk0PGpew95VvqAXFScQpMExGQt7+fIODrTHby6y4jfgiP2b+F6bpw+Lf/ndXO8y58XKA1A/cJiV/jK2uYfxxRCm9982f+3binv6If2Iu9twBzsMOjd0FVi2LS1h0bg7bp9Fzm1q9OY9vwhHpFMmBZBt1Gz86eGPZ8264Sz3eB3moEtyG2NvXc8c6iFQ7bjeCsFPNROfmlbovXbbGiBhfuYBowsf68TLci2bTvaOTFXbDrrpv2e5mSywvKPnkUwDkSmglnd4nO8F70onPDFbjj59HXwDV+sHTJh8AAA==
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSFBCQUFCQ0FBNUZpRUVWSlRXK3hrWFZWcUdrSlRYZXJVUms4em81N0VGQW1CQitLUWJIR2hwY205cmRXNXAKTG10cGRHRm9ZWEpoTVVCcFltMHVZMjl0QUFvSkVIcTFFWlBNNk9leGtRY0wvMDhzYWFmdXl3ejZjWjNzb1U3VAp1R0VoTEZmbGUwMXV3VzV1K2ZUemVxSlZqdEdkVm5tckptRDRPbVlML1JFUWJqZnN2V1JaZjFYZUVuRkZqVG4yCkhTRlkzMjRiTjdINVpCMWRISGtEN3NSL214UVBaU3p1VW85bWZxTUZXUzdkc3FUeWZudkdSWFdXNDlFV0VvajAKK0ZtSC9jRWlpNUNmME05RHdKRnRLUU94eTBDNkRRWXhVV25HclJKRTVzR3RGOVVZUGJGbXdWSmlIZE1FYVJwTwpwaSsrRFZVNHRoVFBvZjYxQ3R2ZEc5Sm5nQWcvc1VHc1I2WWFyRFJzd3h1c2ZMWkE1U2g1biszL3VvUFR1cUhVCkF4ZGJJUmthRnFjaFJMM0t3bjQvYzhhSms2N3ppR0U3M3NGS2VmS01JbENrZUI0QVpNalJWSEg1RTBORzY3dmMKSHlnM2U4N3NtYlphNUdVeCtEVkhWYTVhZmdLMU1iVjVoUjBLWGcvdnNsVHdLTEowZ3ZIZWpqaXBBNStFL21kNwpkMDM2SWRXSW0yanBaWEFwRFhwZ2ZrOUhrb2Y4L0tjc1VTWkx6c3dVUWlWMUlLamxuU0cwYkJOUHgxNFNVbWRBCkVhdDdXaFBKS2V6VU1scFgrMy82UlplSlVmNUlVZktnWjJDcnlyaUlRQU1Vd3c9PQo9WjZmUQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
